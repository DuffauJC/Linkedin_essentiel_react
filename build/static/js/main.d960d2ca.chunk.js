(this["webpackJsonpto-do-list"]=this["webpackJsonpto-do-list"]||[]).push([[0],{29:function(e,t,c){},36:function(e,t,c){"use strict";c.r(t);var n=c(0),s=c(20),a=c.n(s),l=(c(28),c(29),c(13)),o=c(23),r=c(9),i=c(10),d=c(2),j=c(1),u=function(e){var t=Object(n.useState)({completed:e.task.completed}),c=Object(r.a)(t,2),s=c[0],a=c[1];return Object(j.jsxs)("li",{className:"list-group-item d-flex align-items-center justify-content-between "+(s.completed?"bg-success":null),children:[e.task.name,Object(j.jsx)("button",{className:"btn btn-sm ml-auto "+(s.completed?"btn-success":"btn-outline-success"),onClick:function(){return a((function(e){return{completed:!e.completed}})),void e.onToggleCompleted(e.task.id)},children:"\u2713"})]})},b=function(e){var t,c=e.tasks,n=e.match,s=e.onToggleCompleted;switch(n.params.filter){case"completed":t=c.filter((function(e){return e.completed}));break;default:t=c}return 0===t.length?Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{className:"m-3",children:"Liste de t\xe2ches"}),Object(j.jsx)("ul",{className:"list-group m-3",children:Object(j.jsx)("li",{className:"list-group-item",children:"Aucune t\xe2che \xe0 afficher"})})]}):Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{className:"m-3",children:"Liste de t\xe2ches"}),Object(j.jsx)("ul",{className:"list-group m-3",children:t.map((function(e){return Object(j.jsx)(u,{task:e,onToggleCompleted:s},e.id)}))})]})},m=c(8),f=function(e){var t=e.onDeleteCompleted;return Object(j.jsxs)("footer",{className:"d-flex justify-content-between bg-secondary p-3",id:"mainFooter",children:[Object(j.jsxs)("div",{className:"btn-group",children:[Object(j.jsx)(i.b,{to:"/",className:"btn btn-outline-dark bg-light",exact:!0,children:Object(j.jsx)(m.b,{})}),Object(j.jsx)(i.b,{to:"/completed",className:"btn btn-outline-dark bg-light",children:Object(j.jsx)(m.a,{})}),Object(j.jsx)(i.b,{to:"/add-task",className:"btn btn-outline-dark bg-light",exact:!0,children:Object(j.jsx)(m.c,{})})]}),Object(j.jsx)("button",{className:"btn btn-outline-dark bg-light",onClick:t,children:Object(j.jsx)(m.e,{})})]})},h=function(e){var t=Object(n.useState)(""),c=Object(r.a)(t,2),s=c[0],a=c[1];return Object(j.jsxs)("section",{children:[Object(j.jsx)("h1",{className:"m-3",children:"Nouvelle t\xe2che"}),Object(j.jsx)("div",{className:"card mx-3",children:Object(j.jsxs)("form",{className:"card-body",onSubmit:function(t){return function(t){t.preventDefault(),e.onAddTask(s),e.history.push("/")}(t)},children:[Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{form:"taskName",children:"Nom de la t\xe2che"}),Object(j.jsx)("input",{type:"text",className:"form-control",name:"taskName",id:"taskName",required:!0,value:s.value,onChange:function(e){a(e.target.value)}})]}),Object(j.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Cr\xe9er"})]})})]})},O=[{id:"jsertu7a",name:"Ranger la vaisselle",completed:!1},{id:"jseruo7l",name:"R\xe9pondre appel d'offres",completed:!1},{id:"jseruy2q",name:"Signer contrat",completed:!1},{id:"jserv4sw",name:"Aspirer le salon",completed:!1}],p=c(22),x=c.n(p),g=function(){return Object(j.jsx)("div",{className:"fetching",children:Object(j.jsx)(m.d,{className:"spinner"})})},k=function(){var e=Object(n.useState)({tasks:[],fetching:!0}),t=Object(r.a)(e,2),c=t[0],s=t[1];Object(n.useEffect)((function(){console.log("Salut")}),[]),Object(n.useEffect)((function(){var e=Math.floor(5e3*Math.random());console.log("chargement"),setTimeout((function(){s({fetching:!1,tasks:O})}),e)}),[]);var a=function(e){var t=c.tasks.find((function(t){return t.id===e}));t.completed=!t.completed,s((function(c){return c.tasks.map((function(c){return c.id===e?t:c}))}))},u=function(e){console.log("newtask",e);var t={id:x()("jser"),name:e,completed:!1};s((function(e){return{tasks:[].concat(Object(o.a)(e.tasks),[t])}}))};return Object(j.jsxs)("section",{id:"todo",children:[c.fetching?Object(j.jsx)(g,{}):null,Object(j.jsxs)(i.a,{children:[Object(j.jsxs)(d.c,{children:[Object(j.jsx)(d.a,{path:"/add-task",render:function(e){return Object(j.jsx)(h,Object(l.a)(Object(l.a)({},e),{},{onAddTask:u}))}}),Object(j.jsx)(d.a,{path:"/:filter?",render:function(e){return Object(j.jsx)(b,Object(l.a)(Object(l.a)({},e),{},{tasks:c.tasks,onToggleCompleted:a}))}})]}),Object(j.jsx)(f,{onDeleteCompleted:function(){s((function(e){return{tasks:e.tasks.filter((function(e){return!e.completed}))}}))}})]})]})};a.a.render(Object(j.jsx)(k,{}),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.d960d2ca.chunk.js.map